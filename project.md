# Swap Kids Global ‚Äî Telegram Mini App

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
**Swap Kids Global** ‚Äî —ç—Ç–æ Telegram Mini App (–≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –¢–µ–ª–µ–≥—Ä–∞–º) –¥–ª—è –±–µ–∑–≤–æ–∑–º–µ–∑–¥–Ω–æ–≥–æ –æ–±–º–µ–Ω–∞ –¥–µ—Ç—Å–∫–∏–º–∏ –≤–µ—â–∞–º–∏ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É.

**–û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è:**
1.  **–û—Ç–¥–∞–π –¥–∞—Ä–æ–º:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—É–±–ª–∏–∫—É—é—Ç –Ω–µ–Ω—É–∂–Ω—ã–µ –¥–µ—Ç—Å–∫–∏–µ –≤–µ—â–∏ (–æ–¥–µ–∂–¥–∞, –∏–≥—Ä—É—à–∫–∏, –∫–æ–ª—è—Å–∫–∏) –±–µ—Å–ø–ª–∞—Ç–Ω–æ.
2.  **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫:** –í–µ—â–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ –°—Ç—Ä–∞–Ω–µ –∏ –ì–æ—Ä–æ–¥—É.
3.  **–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è (Paywall):** –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–µ–Ω—Ç—ã –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π. –ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –≤–µ—â–∏ ("–°–≤—è–∑–∞—Ç—å—Å—è"), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –æ–ø–ª–∞—Ç–∏—Ç—å –µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤—ã–π –≤–∑–Ω–æ—Å (Lifetime access) —á–µ—Ä–µ–∑ Telegram Stars (XTR). Swap Kids ‚Äî –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –ø—Ä–æ–µ–∫—Ç. –≠—Ç–æ—Ç –µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤—ã–π –≤–∑–Ω–æ—Å –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å–µ—Ä–≤–∏—Å–∞, –∞ —Ç–∞–∫–∂–µ –ø–æ–æ—â—Ä—è—Ç—å —Ç–µ—Ö, –∫—Ç–æ –∞–∫—Ç–∏–≤–Ω–æ –¥–µ–ª–∏—Ç—Å—è –≤–µ—â–∞–º–∏. –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É!
---

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫ (Tech Stack)

### Backend & Server
* **–Ø–∑—ã–∫:** Python 3.10+
* **–§—Ä–µ–π–º–≤–æ—Ä–∫ –±–æ—Ç–∞:** `aiogram 3.x` (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π).
* **–í–µ–±-—Å–µ—Ä–≤–µ—Ä/API:** `aiohttp` (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–º —Ü–∏–∫–ª–µ —Å –±–æ—Ç–æ–º).
* **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** `SQLite` (—Ñ–∞–π–ª `swap_global.db`). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `aiosqlite`.

### Frontend (WebApp)
* **–¢–∏–ø:** Single Page Application (SPA), –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ `main.py` –∫–∞–∫ HTML-—Å—Ç—Ä–æ–∫–∞ (–¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –¥–µ–ø–ª–æ—è –Ω–∞ Replit).
* **–°—Ç–∏–ª–∏:** Tailwind CSS (–ø–æ–¥–∫–ª—é—á–µ–Ω —á–µ—Ä–µ–∑ CDN).
* **–ò–∫–æ–Ω–∫–∏:** FontAwesome (—á–µ—Ä–µ–∑ CDN).
* **–õ–æ–≥–∏–∫–∞:** Vanilla JS (–Ω–∞—Ç–∏–≤–Ω—ã–π JavaScript –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤).
* **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¢–ì:** `telegram-web-app.js`.

### –î–µ–ø–ª–æ–π –∏ –û–∫—Ä—É–∂–µ–Ω–∏–µ
* **–¶–µ–ª–µ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞:** Replit (–∏–ª–∏ –ª—é–±–æ–π VPS).
* **HTTPS:** –û–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è WebApp (–æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è Replit –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).

---

## üóÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–∞–∑—ã –î–∞–Ω–Ω—ã—Ö (SQLite)

–§–∞–π–ª –ë–î: `swap_global.db` (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ).

### –¢–∞–±–ª–∏—Ü–∞ `users` (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏)
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| `user_id` | INTEGER PRIMARY KEY | Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `is_premium` | BOOLEAN DEFAULT 0 | –°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã (0 - –Ω–µ—Ç, 1 - –æ–ø–ª–∞—Ç–∏–ª –¥–æ—Å—Ç—É–ø) |

### –¢–∞–±–ª–∏—Ü–∞ `items` (–û–±—ä—è–≤–ª–µ–Ω–∏—è)
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| `id` | INTEGER PRIMARY KEY | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤–µ—â–∏ |
| `owner_id` | INTEGER | Telegram ID –≤–ª–∞–¥–µ–ª—å—Ü–∞ (–∫—Ç–æ –≤—ã–ª–æ–∂–∏–ª) |
| `title` | TEXT | –ù–∞–∑–≤–∞–Ω–∏–µ –≤–µ—â–∏ |
| `country` | TEXT | –°—Ç—Ä–∞–Ω–∞ (–≤—ã–±–æ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞) |
| `city` | TEXT | –ì–æ—Ä–æ–¥ (—Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ) |
| `category` | TEXT | –ö–∞—Ç–µ–≥–æ—Ä–∏—è (clothes, toys, gear) |
| `contact` | TEXT | –ö–æ–Ω—Ç–∞–∫—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ (@username –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω) |
| `image_base64`| TEXT | **–í–ê–ñ–ù–û:** –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –ø—Ä—è–º–æ –≤ –ë–î –≤ —Ñ–æ—Ä–º–∞—Ç–µ Base64 —Å—Ç—Ä–æ–∫–∏. |

---

## üîë –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –û–∫—Ä—É–∂–µ–Ω–∏—è (Environment Variables)

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ Replit) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å "Secrets":

1.  `BOT_TOKEN`: –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –æ—Ç @BotFather.
2.  `REPLIT_DEV_DOMAIN` (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è Replit): –î–æ–º–µ–Ω –ø—Ä–æ–µ–∫—Ç–∞, —á—Ç–æ–±—ã –±–æ—Ç –∑–Ω–∞–ª –±–∞–∑–æ–≤—ã–π URL –¥–ª—è WebApp. –ï—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω, –∫–æ–¥ –ø—ã—Ç–∞–µ—Ç—Å—è —É–≥–∞–¥–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–æ–º–µ–Ω Replit.

---

## ‚öôÔ∏è –ö–ª—é—á–µ–≤–æ–π –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ –õ–æ–≥–∏–∫–∞

### 1. –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (Frontend)
* –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (JS).
* –°–ª–æ–≤–∞—Ä—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (`translations` –æ–±—ä–µ–∫—Ç –≤ JS) –∂–µ—Å—Ç–∫–æ –ø—Ä–æ–ø–∏—Å–∞–Ω –≤ HTML.
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏: RU, EN, ES, PT, UK, KA.

### 2. –õ–æ–∫–∞—Ü–∏—è –∏ –§–∏–ª—å—Ç—Ä—ã
* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –°—Ç—Ä–∞–Ω—É –∏ –ì–æ—Ä–æ–¥ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ.
* –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ JS-–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `userLoc`.
* –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API (`/api/items`) –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç `country` –∏ `city` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–µ—â–∏ –∏ –§–æ—Ç–æ
* –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ Base64 –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (JS FileReader).
* –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤–º–µ—Å—Ç–µ —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –ë–î.
* *–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥:* –•—Ä–∞–Ω–µ–Ω–∏–µ Base64 –≤ SQLite ‚Äî –ø–ª–æ—Ö–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞, –ø–æ–¥—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è MVP. –í –±—É–¥—É—â–µ–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –Ω–∞ –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (S3 –∏–ª–∏ Telegraph API).

### 4. –û–ø–ª–∞—Ç–∞ (Telegram Stars)
* **–ë—ç–∫–µ–Ω–¥:** –•–µ–Ω–¥–ª–µ—Ä `/api/invoice` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–Ω–≤–æ–π—Å —á–µ—Ä–µ–∑ `bot.send_invoice`.
* **–ë–æ—Ç:** –•–µ–Ω–¥–ª–µ—Ä—ã `pre_checkout_query` –∏ `successful_payment` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –æ–ø–ª–∞—Ç—É –∏ –º–µ–Ω—è—é—Ç —Ñ–ª–∞–≥ `is_premium = 1` –≤ –ë–î.
* **API –ö–æ–Ω—Ç–∞–∫—Ç–æ–≤:** –•–µ–Ω–¥–ª–µ—Ä `/api/contact` –ø–µ—Ä–µ–¥ –≤—ã–¥–∞—á–µ–π –∫–æ–Ω—Ç–∞–∫—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `is_premium` —Å—Ç–∞—Ç—É—Å –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î.

---

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ò–ò-–ê–≥–µ–Ω—Ç–∞ (Next Steps)

–ï—Å–ª–∏ —Ç—ã ‚Äî –ò–ò-–∞–≥–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É –Ω–∞–¥ —ç—Ç–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º, –≤–æ—Ç —Ç–≤–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –∑–∞–¥–∞—á–∏:

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** –ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞–¥–∏–∏ MVP. –ö–æ–¥ –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π (–≤—Å—ë –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ `main.py`) –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∑–∞–ø—É—Å–∫–∞ –Ω–æ–≤–∏—á–∫–æ–º –Ω–∞ Replit. –î–∏–∑–∞–π–Ω –≥–æ—Ç–æ–≤, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞, –ª–æ–≥–∏–∫–∞ –æ–ø–ª–∞—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ (Roadmap):**

1.  **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞ (Refactoring):** –í—ã–Ω–µ—Å—Ç–∏ HTML-–∫–æ–¥ –∏–∑ `main.py` –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª `templates/index.html` –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å `aiohttp` –Ω–∞ –æ—Ç–¥–∞—á—É —ç—Ç–æ–≥–æ —à–∞–±–ª–æ–Ω–∞. –≠—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.
2.  **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ç–æ:** –ü–µ—Ä–µ—Å—Ç–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω—è—Ç—å Base64 –≤ SQLite. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–æ—Ç–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Å–µ—Ä–≤–∏—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Telegraph API –∏–ª–∏ Amazon S3) –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –ë–î —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫—É (URL).
3.  **–ú–æ–¥–µ—Ä–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Å—Ç—É—é –∞–¥–º–∏–Ω–∫—É –∏–ª–∏ –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–µ–º–æ–¥–µ—Ä–∞—Ü–∏–∏ (–Ω–æ–≤—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ª–µ—Ç—è—Ç –≤ —á–∞—Ç –∞–¥–º–∏–Ω—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–ü—Ä–∏–Ω—è—Ç—å/–û—Ç–∫–ª–æ–Ω–∏—Ç—å").
4.  **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:** –£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–∏—Ö–æ–¥—è—â–∏—Ö –æ—Ç WebApp (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `initData` –∏ –ø–æ–¥–ø–∏—Å—å –¢–µ–ª–µ–≥—Ä–∞–º –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏).